"""
TODO:
- Add multithreading (if not too expensive)
- Optimize numpy usage
"""

from PIL import Image
import numpy

# Change size-reduction-factor here:
factor = 10
# Change Image path here:
imagePath = ""

# Loading image:
img = Image.open(imagePath).convert("L")
# Resizing image:
arr = numpy.array(
    img.resize(
        (int(img.size[0] * 2 / factor), int(img.size[1] / factor)), Image.ANTIALIAS
    )
)
# Specifying Braille-Characters:
brailleChars = (
    "⠀",
    "⠁",
    "⠂",
    "⠃",
    "⠄",
    "⠅",
    "⠆",
    "⠇",
    "⠈",
    "⠉",
    "⠊",
    "⠋",
    "⠌",
    "⠍",
    "⠎",
    "⠏",
    "⠐",
    "⠑",
    "⠒",
    "⠓",
    "⠔",
    "⠕",
    "⠖",
    "⠗",
    "⠘",
    "⠙",
    "⠚",
    "⠛",
    "⠜",
    "⠝",
    "⠞",
    "⠟",
    "⠠",
    "⠡",
    "⠢",
    "⠣",
    "⠤",
    "⠥",
    "⠦",
    "⠧",
    "⠨",
    "⠩",
    "⠪",
    "⠫",
    "⠬",
    "⠭",
    "⠮",
    "⠯",
    "⠰",
    "⠱",
    "⠲",
    "⠳",
    "⠴",
    "⠵",
    "⠶",
    "⠷",
    "⠸",
    "⠹",
    "⠺",
    "⠻",
    "⠼",
    "⠽",
    "⠾",
    "⠿",
    "⡀",
    "⡁",
    "⡂",
    "⡃",
    "⡄",
    "⡅",
    "⡆",
    "⡇",
    "⡈",
    "⡉",
    "⡊",
    "⡋",
    "⡌",
    "⡍",
    "⡎",
    "⡏",
    "⡐",
    "⡑",
    "⡒",
    "⡓",
    "⡔",
    "⡕",
    "⡖",
    "⡗",
    "⡘",
    "⡙",
    "⡚",
    "⡛",
    "⡜",
    "⡝",
    "⡞",
    "⡟",
    "⡠",
    "⡡",
    "⡢",
    "⡣",
    "⡤",
    "⡥",
    "⡦",
    "⡧",
    "⡨",
    "⡩",
    "⡪",
    "⡫",
    "⡬",
    "⡭",
    "⡮",
    "⡯",
    "⡰",
    "⡱",
    "⡲",
    "⡳",
    "⡴",
    "⡵",
    "⡶",
    "⡷",
    "⡸",
    "⡹",
    "⡺",
    "⡻",
    "⡼",
    "⡽",
    "⡾",
    "⡿",
    "⢀",
    "⢁",
    "⢂",
    "⢃",
    "⢄",
    "⢅",
    "⢆",
    "⢇",
    "⢈",
    "⢉",
    "⢊",
    "⢋",
    "⢌",
    "⢍",
    "⢎",
    "⢏",
    "⢐",
    "⢑",
    "⢒",
    "⢓",
    "⢔",
    "⢕",
    "⢖",
    "⢗",
    "⢘",
    "⢙",
    "⢚",
    "⢛",
    "⢜",
    "⢝",
    "⢞",
    "⢟",
    "⢠",
    "⢡",
    "⢢",
    "⢣",
    "⢤",
    "⢥",
    "⢦",
    "⢧",
    "⢨",
    "⢩",
    "⢪",
    "⢫",
    "⢬",
    "⢭",
    "⢮",
    "⢯",
    "⢰",
    "⢱",
    "⢲",
    "⢳",
    "⢴",
    "⢵",
    "⢶",
    "⢷",
    "⢸",
    "⢹",
    "⢺",
    "⢻",
    "⢼",
    "⢽",
    "⢾",
    "⢿",
    "⣀",
    "⣁",
    "⣂",
    "⣃",
    "⣄",
    "⣅",
    "⣆",
    "⣇",
    "⣈",
    "⣉",
    "⣊",
    "⣋",
    "⣌",
    "⣍",
    "⣎",
    "⣏",
    "⣐",
    "⣑",
    "⣒",
    "⣓",
    "⣔",
    "⣕",
    "⣖",
    "⣗",
    "⣘",
    "⣙",
    "⣚",
    "⣛",
    "⣜",
    "⣝",
    "⣞",
    "⣟",
    "⣠",
    "⣡",
    "⣢",
    "⣣",
    "⣤",
    "⣥",
    "⣦",
    "⣧",
    "⣨",
    "⣩",
    "⣪",
    "⣫",
    "⣬",
    "⣭",
    "⣮",
    "⣯",
    "⣰",
    "⣱",
    "⣲",
    "⣳",
    "⣴",
    "⣵",
    "⣶",
    "⣷",
    "⣸",
    "⣹",
    "⣺",
    "⣻",
    "⣼",
    "⣽",
    "⣾",
    "⣿",
)
# Create a new array where we replace the pixels with Braille-Characters:
newArr = numpy.array([[brailleChars[pixel] for pixel in line] for line in arr])
# Print the result to the console:
print("\n".join(["".join(line) for line in newArr]))
